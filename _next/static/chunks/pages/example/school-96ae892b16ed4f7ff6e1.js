(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[949],{2318:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var n=s(4806),r=s(9552),o=s(5861),i=s(7757),a=s.n(i),c=s(7294),l=s(2212),h=s(9365);const u=/^[og]\s*(.+)?/,d=/^mtllib /,p=/^usemtl /,m=/^usemap /,f=new l.Pa4,g=new l.Pa4,b=new l.Pa4,v=new l.Pa4,w=new l.Pa4;function x(){const e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);const s=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const n={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==s?s.smooth:this.smooth,groupStart:void 0!==s?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){const t={index:"number"===typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){const t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},s&&s.name&&"function"===typeof s.clone){const e=s.clone(0);e.inherited=!0,this.object.materials.push(e)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const s=parseInt(e,10);return 3*(s>=0?s-1:s+t/3)},parseNormalIndex:function(e,t){const s=parseInt(e,10);return 3*(s>=0?s-1:s+t/3)},parseUVIndex:function(e,t){const s=parseInt(e,10);return 2*(s>=0?s-1:s+t/2)},addVertex:function(e,t,s){const n=this.vertices,r=this.object.geometry.vertices;r.push(n[e+0],n[e+1],n[e+2]),r.push(n[t+0],n[t+1],n[t+2]),r.push(n[s+0],n[s+1],n[s+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,s){const n=this.normals,r=this.object.geometry.normals;r.push(n[e+0],n[e+1],n[e+2]),r.push(n[t+0],n[t+1],n[t+2]),r.push(n[s+0],n[s+1],n[s+2])},addFaceNormal:function(e,t,s){const n=this.vertices,r=this.object.geometry.normals;f.fromArray(n,e),g.fromArray(n,t),b.fromArray(n,s),w.subVectors(b,g),v.subVectors(f,g),w.cross(v),w.normalize(),r.push(w.x,w.y,w.z),r.push(w.x,w.y,w.z),r.push(w.x,w.y,w.z)},addColor:function(e,t,s){const n=this.colors,r=this.object.geometry.colors;void 0!==n[e]&&r.push(n[e+0],n[e+1],n[e+2]),void 0!==n[t]&&r.push(n[t+0],n[t+1],n[t+2]),void 0!==n[s]&&r.push(n[s+0],n[s+1],n[s+2])},addUV:function(e,t,s){const n=this.uvs,r=this.object.geometry.uvs;r.push(n[e+0],n[e+1]),r.push(n[t+0],n[t+1]),r.push(n[s+0],n[s+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,s,n,r,o,i,a,c){const l=this.vertices.length;let h=this.parseVertexIndex(e,l),u=this.parseVertexIndex(t,l),d=this.parseVertexIndex(s,l);if(this.addVertex(h,u,d),this.addColor(h,u,d),void 0!==i&&""!==i){const e=this.normals.length;h=this.parseNormalIndex(i,e),u=this.parseNormalIndex(a,e),d=this.parseNormalIndex(c,e),this.addNormal(h,u,d)}else this.addFaceNormal(h,u,d);if(void 0!==n&&""!==n){const e=this.uvs.length;h=this.parseUVIndex(n,e),u=this.parseUVIndex(r,e),d=this.parseUVIndex(o,e),this.addUV(h,u,d),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let s=0,n=e.length;s<n;s++){const n=this.parseVertexIndex(e[s],t);this.addVertexPoint(n),this.addColor(n)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const s=this.vertices.length,n=this.uvs.length;for(let r=0,o=e.length;r<o;r++)this.addVertexLine(this.parseVertexIndex(e[r],s));for(let r=0,o=t.length;r<o;r++)this.addUVLine(this.parseUVIndex(t[r],n))}};return e.startObject("",!1),e}class j extends l.aNw{constructor(e){super(e),this.materials=null}load(e,t,s,n){const r=this,o=new l.hH6(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(s){try{t(r.parse(s))}catch(o){n?n(o):console.error(o),r.manager.itemError(e)}}),s,n)}setMaterials(e){return this.materials=e,this}parse(e){const t=new x;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));const s=e.split("\n");let n="",r="",o=0,i=[];const a="function"===typeof"".trimLeft;for(let l=0,h=s.length;l<h;l++)if(n=s[l],n=a?n.trimLeft():n.trim(),o=n.length,0!==o&&(r=n.charAt(0),"#"!==r))if("v"===r){const e=n.split(/\s+/);switch(e[0]){case"v":t.vertices.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])),e.length>=7?t.colors.push(parseFloat(e[4]),parseFloat(e[5]),parseFloat(e[6])):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]));break;case"vt":t.uvs.push(parseFloat(e[1]),parseFloat(e[2]))}}else if("f"===r){const e=n.substr(1).trim().split(/\s+/),s=[];for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n.length>0){const e=n.split("/");s.push(e)}}const r=s[0];for(let n=1,o=s.length-1;n<o;n++){const e=s[n],o=s[n+1];t.addFace(r[0],e[0],o[0],r[1],e[1],o[1],r[2],e[2],o[2])}}else if("l"===r){const e=n.substring(1).trim().split(" ");let s=[];const r=[];if(-1===n.indexOf("/"))s=e;else for(let t=0,n=e.length;t<n;t++){const n=e[t].split("/");""!==n[0]&&s.push(n[0]),""!==n[1]&&r.push(n[1])}t.addLineGeometry(s,r)}else if("p"===r){const e=n.substr(1).trim().split(" ");t.addPointGeometry(e)}else if(null!==(i=u.exec(n))){const e=(" "+i[0].substr(1).trim()).substr(1);t.startObject(e)}else if(p.test(n))t.object.startMaterial(n.substring(7).trim(),t.materialLibraries);else if(d.test(n))t.materialLibraries.push(n.substring(7).trim());else if(m.test(n))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===r){if(i=n.split(" "),i.length>1){const e=i[1].trim().toLowerCase();t.object.smooth="0"!==e&&"off"!==e}else t.object.smooth=!0;const e=t.object.currentMaterial();e&&(e.smooth=t.object.smooth)}else{if("\0"===n)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+n+'"')}t.finalize();const c=new l.ZAu;c.materialLibraries=[].concat(t.materialLibraries);if(!0===!(1===t.objects.length&&0===t.objects[0].geometry.vertices.length))for(let h=0,u=t.objects.length;h<u;h++){const e=t.objects[h],s=e.geometry,n=e.materials,r="Line"===s.type,o="Points"===s.type;let i=!1;if(0===s.vertices.length)continue;const a=new l.u9r;a.setAttribute("position",new l.a$l(s.vertices,3)),s.normals.length>0&&a.setAttribute("normal",new l.a$l(s.normals,3)),s.colors.length>0&&(i=!0,a.setAttribute("color",new l.a$l(s.colors,3))),!0===s.hasUVIndices&&a.setAttribute("uv",new l.a$l(s.uvs,2));const u=[];for(let c=0,h=n.length;c<h;c++){const e=n[c],s=e.name+"_"+e.smooth+"_"+i;let a=t.materials[s];if(null!==this.materials)if(a=this.materials.create(e.name),!r||!a||a instanceof l.nls){if(o&&a&&!(a instanceof l.UY4)){const e=new l.UY4({size:10,sizeAttenuation:!1});l.F5T.prototype.copy.call(e,a),e.color.copy(a.color),e.map=a.map,a=e}}else{const e=new l.nls;l.F5T.prototype.copy.call(e,a),e.color.copy(a.color),a=e}void 0===a&&(a=r?new l.nls:o?new l.UY4({size:1,sizeAttenuation:!1}):new l.xoR,a.name=e.name,a.flatShading=!e.smooth,a.vertexColors=i,t.materials[s]=a),u.push(a)}let d;if(u.length>1){for(let e=0,t=n.length;e<t;e++){const t=n[e];a.addGroup(t.groupStart,t.groupCount,e)}d=r?new l.ejS(a,u):o?new l.woe(a,u):new l.Kj0(a,u)}else d=r?new l.ejS(a,u[0]):o?new l.woe(a,u[0]):new l.Kj0(a,u[0]);d.name=e.name,c.add(d)}else if(t.vertices.length>0){const e=new l.UY4({size:1,sizeAttenuation:!1}),s=new l.u9r;s.setAttribute("position",new l.a$l(t.vertices,3)),t.colors.length>0&&void 0!==t.colors[0]&&(s.setAttribute("color",new l.a$l(t.colors,3)),e.vertexColors=!0);const n=new l.woe(s,e);c.add(n)}return c}}var y=s(1223),_=s(237),V=s(5893);function N(){var e=(0,c.useRef)(null),t=(0,c.useRef)({}),s=(0,c.useState)(0),i=s[0],u=s[1];return(0,c.useEffect)((function(){var s=Math.round(e.current.clientWidth),n=window.innerHeight-71-40,r=function(){var e=(0,o.Z)(a().mark((function e(){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.current.scene,(new j).load("".concat(y.domain,"/model/school/1026-\u5efa\u7b51-\u683c\u5f0f\u8f6c\u6362-1.obj"),(function(e){u(0),e.position.set(0,0,0);var t=.001;e.scale.set(t,t,t),e.position.set(-300,0,200),s.add(e)}),(function(e){0!==e.total&&u(Math.round(e.loaded/e.total*100))}),(function(e){console.error("error: ",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=t.current,s=e.control,n=e.renderer,r=e.scene,o=e.camera;s&&s.update(),n.render(r,o)},c=function(){var s=t.current,n=s.camera,r=s.renderer,o=Math.round(e.current.clientWidth),i=window.innerHeight-71-40;n.aspect=o/i,n.updateProjectionMatrix(),r.setSize(o,i)};return function(){var r=new l.CP7({antialias:!0,alpha:!0});r.setPixelRatio(window.devicePixelRatio),r.setSize(s,n),t.current.renderer=r,e.current.appendChild(r.domElement)}(),function(){var e=new l.cPb(75,s/n,1,1e3);e.position.set(-150,150,300),e.lookAt(0,0,0),t.current.camera=e}(),function(){var e=new l.xsS;e.background=new l.Ilk(0),t.current.scene=e}(),function(){var e=t.current,s=e.camera,n=e.renderer,r=new h.z(s,n.domElement);r.enableDamping=!0,r.enableZoom=!0,r.enablePan=!1,t.current.control=r}(),function(){var e=t.current.scene;e.add(new l.Mig(16777215,.3));var s=new l.Ox3(16777215,.8*Math.PI);s.position.set(0,50,0),e.add(s)}(),r(),t.current.renderer.setAnimationLoop(i),window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}}),[]),(0,V.jsxs)(_.Z,{className:"interest-demo",children:[(0,V.jsx)("div",{ref:e,className:"interest-demo__content"}),i>0&&i<=100&&(0,V.jsxs)("div",{className:"interest-demo_loading",children:[(0,V.jsx)(r.Z,{}),(0,V.jsx)(n.default,{strokeColor:{"0%":"#108ee9","100%":"#87d068"},percent:i,className:"interest-demo__progress"})]})]})}},237:function(e,t,s){"use strict";var n=s(4184),r=s.n(n),o=s(7294),i=s(5893);function a(e,t){var s=e.children,n=e.className,o=e.title,a=e.description,c=e.isNarrow;return(0,i.jsxs)("div",{className:r()("app-content",{"app-content--narrow":c},n),ref:t,children:[o&&(0,i.jsx)("h1",{className:"app-content__title",children:o}),(0,i.jsx)("ul",{className:"app-content__description",children:a&&a.length&&a.map((function(e,t){var s=e.val,n=e.style;return(0,i.jsx)("li",{style:n,className:"app-content__description-item",children:s},t)}))}),s]})}t.Z=(0,o.forwardRef)(a)},901:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/school",function(){return s(2318)}])}},function(e){e.O(0,[737,676,806,365,552,774,888,179],(function(){return t=901,e(e.s=t);var t}));var t=e.O();_N_E=t}]);