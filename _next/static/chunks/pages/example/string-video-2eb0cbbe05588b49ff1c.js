(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{7017:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(4942),a=n(7294),s=n(237),i=n(1223),c=n(5893);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=[{val:"JavaScript \u8f93\u51fa\u5b57\u7b26\u753b\u89c6\u9891\u3002"},{val:"* \u793a\u4f8b\uff1aBad Apple\u3002"}],d=["#","*","+",'"',"\u3000"];function f(e){var t=e.isNarrow,n=(0,a.useRef)(null),r=(0,a.useRef)(null),o=(0,a.useRef)(null),f=(0,a.useState)(500),p=f[0],v=f[1],h=(0,a.useState)(375),g=h[0],m=h[1];(0,a.useEffect)((function(){t&&500===p?(v(300),m(225)):t||300!==p||(v(500),m(375))}),[p,t]);var _=function(){var e=o.current;e&&cancelAnimationFrame(e)};return(0,c.jsx)(s.Z,l(l({className:"interest-string-video",title:"String Video",description:u},e),{},{children:(0,c.jsxs)("div",{className:"interest-string-video__content",children:[(0,c.jsx)("video",{ref:n,src:"".concat(i.basePath,"/videos/01.mp4"),style:{width:p},onPlay:function e(){console.log("render");var t=n.current,a=r.current;if(t&&a){var s=a.getContext("2d");if(s){s.drawImage(t,0,0,p,g);var i=s.getImageData(0,0,p,g).data;s.clearRect(0,0,p,g),s.font="6px Verdana";for(var c=0;c<g;c+=6)for(var l=0;l<p;l+=6){var u=4*(p*c+l),f=(30*i[u]+59*i[u+1]+11*i[u+2]+50)/100,v=Math.min(d.length-1,parseInt(f/(255/d.length)));s.fillText(d[v],l,c)}o.current=requestAnimationFrame(e)}}},onPause:_,onEnded:_,controls:!0}),(0,c.jsx)("canvas",{ref:r,width:p,height:g,className:"interest-string-video__canvas"})]})}))}},237:function(e,t,n){"use strict";var r=n(4806),a=n(9552),s=n(4184),i=n.n(s),c=n(7294),o=n(5893);function l(e,t){var n=e.children,s=e.className,l=e.title,u=e.description,d=e.isNarrow,f=(0,c.useState)(0),p=f[0],v=f[1],h=function(e){v(e)};return(0,c.useImperativeHandle)(t,(function(){return{handleProcess:h}})),(0,o.jsxs)("div",{className:i()("app-content",{"app-content--narrow":d},s),ref:t,children:[l&&(0,o.jsx)("h1",{className:"app-content__title",children:l}),(0,o.jsx)("ul",{className:"app-content__description",children:u&&u.length&&u.map((function(e,t){var n=e.val,r=e.style;return(0,o.jsx)("li",{style:r,className:"app-content__description-item",children:n},t)}))}),n,(0,o.jsxs)("div",{className:i()("interest-loading","interest-content-loading",{"interest-loading--hide":0===p||p>=100}),children:[(0,o.jsx)(a.Z,{}),(0,o.jsx)(r.default,{strokeColor:{"0%":"#108ee9","100%":"#87d068"},percent:p,className:"interest-loading__progress"})]})]})}t.Z=(0,c.forwardRef)(l)},9278:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/string-video",function(){return n(7017)}])}},function(e){e.O(0,[676,806,552,774,888,179],(function(){return t=9278,e(e.s=t);var t}));var t=e.O();_N_E=t}]);