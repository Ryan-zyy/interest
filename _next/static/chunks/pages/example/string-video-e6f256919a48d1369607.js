(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{7017:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(4942),a=n(7294),i=n(237),c=n(1223),s=n(5893);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=[{val:"JavaScript \u8f93\u51fa\u5b57\u7b26\u753b\u89c6\u9891\u3002"},{val:"* \u793a\u4f8b\uff1aBad Apple"}],f=["#","*","+",'"',"\u3000"];function p(e){var t=e.isMobile,n=(0,a.useRef)(null),r=(0,a.useRef)(null),o=(0,a.useRef)(null),p=(0,a.useState)(500),d=p[0],v=p[1],h=(0,a.useState)(375),m=h[0],_=h[1];(0,a.useEffect)((function(){t&&500===d?(v(300),_(225)):t||300!==d||(v(500),_(375))}),[d,t]);var g=function(){var e=o.current;e&&cancelAnimationFrame(e)};return(0,s.jsx)(i.Z,l(l({className:"interest-string-video",title:"String Video",description:u},e),{},{children:(0,s.jsxs)("div",{className:"interest-string-video__content",children:[(0,s.jsx)("video",{ref:n,src:"".concat(c.basePath,"/videos/01.mp4"),style:{width:d},onPlay:function e(){console.log("render");var t=n.current,a=r.current;if(t&&a){var i=a.getContext("2d");if(i){i.drawImage(t,0,0,d,m);var c=i.getImageData(0,0,d,m).data;i.clearRect(0,0,d,m),i.font="6px Verdana";for(var s=0;s<m;s+=6)for(var l=0;l<d;l+=6){var u=4*(d*s+l),p=(30*c[u]+59*c[u+1]+11*c[u+2]+50)/100,v=Math.min(f.length-1,parseInt(p/(255/f.length)));i.fillText(f[v],l,s)}o.current=requestAnimationFrame(e)}}},onPause:g,onEnded:g,controls:!0}),(0,s.jsx)("canvas",{ref:r,width:d,height:m,className:"interest-string-video__canvas"})]})}))}},237:function(e,t,n){"use strict";var r=n(4184),a=n.n(r),i=n(7294),c=n(5893);function s(e,t){var n=e.children,r=e.className,i=e.title,s=e.description,o=e.isMobile;return(0,c.jsxs)("div",{className:a()("app-content",{"app-content--mobile":o},r),ref:t,children:[i&&(0,c.jsx)("h1",{className:"app-content__title",children:i}),(0,c.jsx)("ul",{className:"app-content__description",children:s&&s.length&&s.map((function(e,t){var n=e.val,r=e.style;return(0,c.jsx)("li",{style:r,className:"app-content__description-item",children:n},t)}))}),n]})}t.Z=(0,i.forwardRef)(s)},9278:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/string-video",function(){return n(7017)}])}},function(e){e.O(0,[774,888,179],(function(){return t=9278,e(e.s=t);var t}));var t=e.O();_N_E=t}]);