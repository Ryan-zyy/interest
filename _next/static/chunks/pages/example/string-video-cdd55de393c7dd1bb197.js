(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{7017:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(4942),i=n(7294),a=n(237),c=n(5893);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=[{val:"JavaScript \u8f93\u51fa\u5b57\u7b26\u753b\u89c6\u9891\u3002"},{val:"* \u793a\u4f8b\uff1aBad Apple"}],u=["#","*","+",'"',"\u3000"];function f(e){var t=e.isMobile,n=(0,i.useRef)(null),r=(0,i.useRef)(null),s=(0,i.useRef)(null),f=(0,i.useState)(500),p=f[0],d=f[1],v=(0,i.useState)(375),h=v[0],m=v[1];(0,i.useEffect)((function(){t&&500===p?(d(300),m(225)):t||300!==p||(d(500),m(375))}),[p,t]);var _=function(){var e=s.current;e&&cancelAnimationFrame(e)};return(0,c.jsx)(a.Z,o(o({className:"interest-string-video",title:"String Video",description:l},e),{},{children:(0,c.jsxs)("div",{className:"interest-string-video__content",children:[(0,c.jsx)("video",{ref:n,src:"/interest/videos/01.mp4",style:{width:p},onPlay:function e(){console.log("render");var t=n.current,i=r.current;if(t&&i){var a=i.getContext("2d");if(a){a.drawImage(t,0,0,p,h);var c=a.getImageData(0,0,p,h).data;a.clearRect(0,0,p,h),a.font="6px Verdana";for(var o=0;o<h;o+=6)for(var l=0;l<p;l+=6){var f=4*(p*o+l),d=(30*c[f]+59*c[f+1]+11*c[f+2]+50)/100,v=Math.min(u.length-1,parseInt(d/(255/u.length)));a.fillText(u[v],l,o)}s.current=requestAnimationFrame(e)}}},onPause:_,onEnded:_,controls:!0}),(0,c.jsx)("canvas",{ref:r,width:p,height:h,className:"interest-string-video__canvas"})]})}))}},237:function(e,t,n){"use strict";var r=n(4184),i=n.n(r),a=n(7294),c=n(5893);function s(e,t){var n=e.children,r=e.className,a=e.title,s=e.description,o=e.isMobile;return(0,c.jsxs)("div",{className:i()("app-content",{"app-content--mobile":o},r),ref:t,children:[a&&(0,c.jsx)("h1",{className:"app-content__title",children:a}),(0,c.jsx)("ul",{className:"app-content__description",children:s&&s.length&&s.map((function(e,t){var n=e.val,r=e.style;return(0,c.jsx)("li",{style:r,className:"app-content__description-item",children:n},t)}))}),n]})}t.Z=(0,a.forwardRef)(s)},9278:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/string-video",function(){return n(7017)}])}},function(e){e.O(0,[774,888,179],(function(){return t=9278,e(e.s=t);var t}));var t=e.O();_N_E=t}]);